-- Fly & Fling Controller Add-on
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local SpeedLabel = Instance.new("TextLabel")
local NameInput = Instance.new("TextBox")
local PlusBtn = Instance.new("TextButton")
local MinusBtn = Instance.new("TextButton")
local FlyBtn = Instance.new("TextButton")
local FlingBtn = Instance.new("TextButton")

local currentSpeed = 50
local flying = false
local flinging = false

-- UI Setup
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.Size = UDim2.new(0, 250, 0, 300)
Frame.Position = UDim2.new(0.1, 0, 0.5, -150)
Frame.Active = true
Frame.Draggable = true

Title.Parent = Frame
Title.Text = "FLY & FLING"
Title.Size = UDim2.new(1, 0, 0, 40)
Title.TextColor3 = Color3.fromRGB(255, 255, 255)

NameInput.Parent = Frame
NameInput.PlaceholderText = "Type Player Name..."
NameInput.Size = UDim2.new(0.8, 0, 0, 30)
NameInput.Position = UDim2.new(0.1, 0, 0.2, 0)

SpeedLabel.Parent = Frame
SpeedLabel.Text = "Speed: 50"
SpeedLabel.Position = UDim2.new(0, 0, 0.35, 0)
SpeedLabel.Size = UDim2.new(1, 0, 0, 30)
SpeedLabel.TextColor3 = Color3.fromRGB(0, 255, 0)

-- Speed Controls
PlusBtn.Parent = Frame
PlusBtn.Text = "+"
PlusBtn.Size = UDim2.new(0.2, 0, 0, 30)
PlusBtn.Position = UDim2.new(0.6, 0, 0.45, 0)
PlusBtn.MouseButton1Click:Connect(function()
    currentSpeed = currentSpeed + 10
    SpeedLabel.Text = "Speed: " .. currentSpeed
end)

MinusBtn.Parent = Frame
MinusBtn.Text = "-"
MinusBtn.Size = UDim2.new(0.2, 0, 0, 30)
MinusBtn.Position = UDim2.new(0.2, 0, 0.45, 0)
MinusBtn.MouseButton1Click:Connect(function()
    currentSpeed = math.max(10, currentSpeed - 10)
    SpeedLabel.Text = "Speed: " .. currentSpeed
end)

-- Fly Logic
FlyBtn.Parent = Frame
FlyBtn.Text = "FLY ME"
FlyBtn.Size = UDim2.new(0.8, 0, 0, 40)
FlyBtn.Position = UDim2.new(0.1, 0, 0.6, 0)
FlyBtn.BackgroundColor3 = Color3.fromRGB(0, 100, 0)

FlyBtn.MouseButton1Click:Connect(function()
    flying = not flying
    local lp = game.Players.LocalPlayer
    local char = lp.Character
    if flying then
        FlyBtn.Text = "STOP FLY"
        local bv = Instance.new("BodyVelocity", char.HumanoidRootPart)
        bv.Velocity = Vector3.new(0, 0, 0)
        bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
        task.spawn(function()
            while flying do
                bv.Velocity = char.Humanoid.MoveDirection * currentSpeed
                task.wait()
            end
            bv:Destroy()
        end)
    else
        FlyBtn.Text = "FLY ME"
    end
end)

-- Fling Logic (Choose Target)
FlingBtn.Parent = Frame
FlingBtn.Text = "FLING TARGET"
FlingBtn.Size = UDim2.new(0.8, 0, 0, 40)
FlingBtn.Position = UDim2.new(0.1, 0, 0.8, 0)
FlingBtn.BackgroundColor3 = Color3.fromRGB(150, 0, 0)

FlingBtn.MouseButton1Click:Connect(function()
    local targetName = NameInput.Text:lower()
    local targetPlayer = nil
    
    for _, p in pairs(game.Players:GetPlayers()) do
        if p.Name:lower():find(targetName) then
            targetPlayer = p
            break
        end
    end
    
    if targetPlayer and targetPlayer.Character then
        StatusLabel.Text = "Flinging: " .. targetPlayer.Name
        local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
        local oldPos = hrp.CFrame
        
        -- Extreme Spinning to Fling
        local th = Instance.new("BodyAngularVelocity", hrp)
        th.AngularVelocity = Vector3.new(0, 99999, 0)
        th.MaxTorque = Vector3.new(0, math.huge, 0)
        
        hrp.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame
        task.wait(0.5)
        th:Destroy()
        hrp.CFrame = oldPos
    end
end)
